<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Kandidat BEM FTI Universitas Tarumanagara</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"/>

  </head>
  <body>

    <!-- Container Kandidat -->
    <div class="container-kandidat">

      <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
        <span th:text="${successMessage}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>

      <h1 class="main-title">Kandidat Calon Ketua dan Wakil Ketua BEM FTI</h1>
      <h2 class="subtitle">Universitas Tarumanagara</h2>
      <br>

      <!-- Kandidat -->
      <div class="kandidat-list">
        <!-- Card -->
        <div class="kandidat-card" th:each="kandidat, iterStat : ${kandidats}">
          
          <!-- Header -->
          <div class="kandidat-header">
            <!-- Header: Foto -->
            <div class="kandidat-photo">
              <img th:src="@{${'/image/' + kandidat.fotoKandidat}}" alt="Foto Kandidat"/>
            </div>
            <!-- Header: Nama-->
            <div class="kandidat-name">
              <h2 th:text="${kandidat.namaKandidat ?: 'Nama tidak tersedia'}"></h2>
            </div>
          </div>
          <!-- Div Penutup Header -->
          
          <br>
          <!-- Accordion -->
          <div class="accordion accordion-flush" th:id="'accordionFlushKandidat' + ${iterStat.index}">
            <div class="accordion-item">
              <h2 class="accordion-header" th:id="'flush-heading' + ${iterStat.index}">
                <button class="accordion-button collapsed" 
                        type="button" 
                        data-bs-toggle="collapse" 
                        th:data-bs-target="'#flush-collapse' + ${iterStat.index}" 
                        aria-expanded="false" 
                        th:aria-controls="'flush-collapse' + ${iterStat.index}">
                        Halo kami dari kandidat no ' + (${iterStat.index + 1})
                </button>
              </h2>
              <div th:id="'flush-collapse' + ${iterStat.index}" 
                   class="accordion-collapse collapse" 
                   th:aria-labelledby="'flush-heading' + ${iterStat.index}" 
                   th:data-bs-parent="'#accordionFlushKandidat' + ${iterStat.index}">
                <div class="accordion-body">
                  <p th:text="${kandidat.sloganKandidat ?: 'Slogan tidak tersedia'}"></p>
                  <a th:href="@{'/kandidat/' + ${kandidat.id}}" class="btn btn-primary">Lihat Detail</a>
                </div>
              </div>
            </div>
          </div>
          <!-- Div Penutup Accordion -->

        </div> <!-- Div Penutup Card -->
      </div> <!-- Div Penutup List -->
      
      <!-- Button untuk Voting -->
      <div class="navigation-buttons">
        <a th:href="@{/voting-form}" class="next-button">Lanjut ke Pemilihan â†’</a>
      </div>
      <!-- Div Penutup Navigation Buttons -->

    </div> <!-- Div Penutup Container Kandidat -->
  </body>

  <!-- Java Script -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</html>
